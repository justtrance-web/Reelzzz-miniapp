<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Reels Editor</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--tg-theme-bg-color,#1a1a2e);color:var(--tg-theme-text-color,#fff);min-height:100vh;padding:16px;padding-bottom:100px}.header{text-align:center;margin-bottom:20px}.header h1{font-size:24px;margin-bottom:8px}.header p{font-size:14px;opacity:.7}.section{margin-bottom:20px}.section-title{font-size:13px;text-transform:uppercase;letter-spacing:1px;opacity:.5;margin-bottom:10px}.buttons-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.btn{background:var(--tg-theme-secondary-bg-color,#2a2a4a);border:2px solid transparent;border-radius:12px;padding:14px 8px;color:var(--tg-theme-text-color,#fff);font-size:13px;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:6px;transition:all .2s}.btn:active{transform:scale(.95)}.btn.selected{border-color:var(--tg-theme-button-color,#5865f2);background:var(--tg-theme-button-color,#5865f2)}.btn .icon{font-size:24px}.btn .label{font-size:11px;opacity:.9}.slider-container{background:var(--tg-theme-secondary-bg-color,#2a2a4a);border-radius:12px;padding:16px}.slider-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.slider-value{font-size:18px;font-weight:600;color:var(--tg-theme-button-color,#5865f2)}.slider{width:100%;height:6px;border-radius:3px;background:var(--tg-theme-bg-color,#1a1a2e);outline:none;-webkit-appearance:none}.slider::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;border-radius:50%;background:var(--tg-theme-button-color,#5865f2);cursor:pointer}.selected-effects{background:var(--tg-theme-secondary-bg-color,#2a2a4a);border-radius:12px;padding:16px;min-height:60px}.selected-effects-list{display:flex;flex-wrap:wrap;gap:8px}.effect-tag{background:var(--tg-theme-button-color,#5865f2);padding:6px 12px;border-radius:20px;font-size:12px;display:flex;align-items:center;gap:6px}.effect-tag .remove{cursor:pointer;opacity:.7}.empty-state{text-align:center;opacity:.5;font-size:14px}.instruction{background:var(--tg-theme-secondary-bg-color,#2a2a4a);border-radius:12px;padding:16px;text-align:center}.instruction .step{display:flex;align-items:center;gap:12px;text-align:left;margin:10px 0}.instruction .step-num{width:28px;height:28px;background:var(--tg-theme-button-color,#5865f2);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;flex-shrink:0}
    </style>
</head>
<body>
    <div class="header"><h1>ğŸ¬ Reels Editor</h1><p>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ´ĞµĞ¾</p></div>
    <div class="section"><div class="instruction"><div class="step"><span class="step-num">1</span><span>Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ±Ğ¾Ñ‚Ñƒ</span></div><div class="step"><span class="step-num">2</span><span>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ½Ğ¸Ğ¶Ğµ</span></div><div class="step"><span class="step-num">3</span><span>ĞĞ°Ğ¶Ğ¼Ğ¸ "ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ"</span></div></div></div>
    <div class="section"><div class="section-title">âš¡ Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ</div><div class="slider-container"><div class="slider-header"><span>Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ</span><span class="slider-value" id="speedValue">1x</span></div><input type="range" class="slider" id="speedSlider" min="0.25" max="4" step="0.25" value="1"></div></div>
    <div class="section"><div class="section-title">ğŸ¨ Ğ¦Ğ²ĞµÑ‚</div><div class="buttons-grid"><button class="btn" data-effect="bw"><span class="icon">âš«</span><span class="label">Ğ§/Ğ‘</span></button><button class="btn" data-effect="sepia"><span class="icon">ğŸŸ¤</span><span class="label">Ğ¡ĞµĞ¿Ğ¸Ñ</span></button><button class="btn" data-effect="negative"><span class="icon">ğŸ”„</span><span class="label">ĞĞµĞ³Ğ°Ñ‚Ğ¸Ğ²</span></button><button class="btn" data-effect="vintage"><span class="icon">ğŸ“¼</span><span class="label">Ğ’Ğ¸Ğ½Ñ‚Ğ°Ğ¶</span></button><button class="btn" data-effect="bright"><span class="icon">â˜€ï¸</span><span class="label">Ğ¯Ñ€ĞºĞ¾ÑÑ‚ÑŒ+</span></button><button class="btn" data-effect="contrast"><span class="icon">ğŸ›ï¸</span><span class="label">ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚+</span></button></div></div>
    <div class="section"><div class="section-title">ğŸ”„ Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸</div><div class="buttons-grid"><button class="btn" data-effect="mirror"><span class="icon">ğŸª</span><span class="label">Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾</span></button><button class="btn" data-effect="flip"><span class="icon">ğŸ”ƒ</span><span class="label">ĞŸĞµÑ€ĞµĞ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ</span></button><button class="btn" data-effect="rotate90"><span class="icon">â†©ï¸</span><span class="label">90Â°</span></button></div></div>
    <div class="section"><div class="section-title">ğŸ“ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚</div><div class="buttons-grid"><button class="btn" data-effect="square"><span class="icon">â¬›</span><span class="label">1:1</span></button><button class="btn" data-effect="vertical"><span class="icon">ğŸ“±</span><span class="label">9:16</span></button><button class="btn" data-effect="horizontal"><span class="icon">ğŸ–¥ï¸</span><span class="label">16:9</span></button></div></div>
    <div class="section"><div class="section-title">âœ¨ Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹</div><div class="buttons-grid"><button class="btn" data-effect="reverse"><span class="icon">âª</span><span class="label">Ğ ĞµĞ²ĞµÑ€Ñ</span></button><button class="btn" data-effect="blur"><span class="icon">ğŸŒ«ï¸</span><span class="label">Ğ Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¸Ğµ</span></button><button class="btn" data-effect="sharp"><span class="icon">ğŸ”ª</span><span class="label">Ğ ĞµĞ·ĞºĞ¾ÑÑ‚ÑŒ</span></button><button class="btn" data-effect="mute"><span class="icon">ğŸ”‡</span><span class="label">Ğ‘ĞµĞ· Ğ·Ğ²ÑƒĞºĞ°</span></button><button class="btn" data-effect="gif"><span class="icon">ğŸï¸</span><span class="label">GIF</span></button></div></div>
    <div class="section"><div class="section-title">âœ… Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾</div><div class="selected-effects"><div class="selected-effects-list" id="selectedList"><div class="empty-state">Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ²Ñ‹ÑˆĞµ</div></div></div></div>
<script>
const tg=window.Telegram.WebApp;tg.ready();tg.expand();let selectedEffects=[],speed=1;const effectNames={bw:'Ğ§/Ğ‘',sepia:'Ğ¡ĞµĞ¿Ğ¸Ñ',negative:'ĞĞµĞ³Ğ°Ñ‚Ğ¸Ğ²',vintage:'Ğ’Ğ¸Ğ½Ñ‚Ğ°Ğ¶',bright:'Ğ¯Ñ€ĞºĞ¾ÑÑ‚ÑŒ+',contrast:'ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚+',mirror:'Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾',flip:'ĞŸĞµÑ€ĞµĞ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ',rotate90:'90Â°',square:'1:1',vertical:'9:16',horizontal:'16:9',reverse:'Ğ ĞµĞ²ĞµÑ€Ñ',blur:'Ğ Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¸Ğµ',sharp:'Ğ ĞµĞ·ĞºĞ¾ÑÑ‚ÑŒ',mute:'Ğ‘ĞµĞ· Ğ·Ğ²ÑƒĞºĞ°',gif:'GIF'};const effectGroups={color:['bw','sepia','negative','vintage'],format:['square','vertical','horizontal']};document.querySelectorAll('.btn[data-effect]').forEach(btn=>{btn.addEventListener('click',()=>{const effect=btn.dataset.effect;for(const[group,effects]of Object.entries(effectGroups)){if(effects.includes(effect)){effects.forEach(e=>{if(e!==effect){selectedEffects=selectedEffects.filter(x=>x!==e);document.querySelector(`[data-effect="${e}"]`)?.classList.remove('selected')}})}}if(selectedEffects.includes(effect)){selectedEffects=selectedEffects.filter(e=>e!==effect);btn.classList.remove('selected')}else{selectedEffects.push(effect);btn.classList.add('selected')}updateSelectedList();updateMainButton();tg.HapticFeedback.impactOccurred('light')})});const speedSlider=document.getElementById('speedSlider'),speedValue=document.getElementById('speedValue');speedSlider.addEventListener('input',()=>{speed=parseFloat(speedSlider.value);speedValue.textContent=speed+'x';updateMainButton()});function updateSelectedList(){const list=document.getElementById('selectedList');if(selectedEffects.length===0&&speed===1){list.innerHTML='<div class="empty-state">Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ²Ñ‹ÑˆĞµ</div>';return}let html='';if(speed!==1)html+=`<div class="effect-tag"><span>âš¡ ${speed}x</span><span class="remove" onclick="resetSpeed()">âœ•</span></div>`;selectedEffects.forEach(effect=>{html+=`<div class="effect-tag"><span>${effectNames[effect]}</span><span class="remove" onclick="removeEffect('${effect}')">âœ•</span></div>`});list.innerHTML=html}function removeEffect(effect){selectedEffects=selectedEffects.filter(e=>e!==effect);document.querySelector(`[data-effect="${effect}"]`)?.classList.remove('selected');updateSelectedList();updateMainButton()}function resetSpeed(){speed=1;speedSlider.value=1;speedValue.textContent='1x';updateSelectedList();updateMainButton()}function updateMainButton(){if(selectedEffects.length>0||speed!==1){tg.MainButton.setText('ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹');tg.MainButton.show()}else{tg.MainButton.hide()}}tg.MainButton.onClick(()=>{tg.sendData(JSON.stringify({effects:selectedEffects,speed:speed}))});
</script>
</body>
</html>
